"use strict";(self["webpackChunkblog_vue"]=self["webpackChunkblog_vue"]||[]).push([[959],{47959:function(e,r,t){t.r(r),t.d(r,{default:function(){return l}});var n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"userinfo-container"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[e._v("首页")]),t("el-breadcrumb-item",[e._v("个人中心")]),t("el-breadcrumb-item",[e._v("基本资料")])],1),t("el-card",[t("p",[e._v("基本资料")]),t("el-form",{ref:"userinfoRef",attrs:{model:e.userinfoForm,rules:e.userinfoRules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"登录名称",prop:"username"}},[t("el-input",{model:{value:e.userinfoForm.username,callback:function(r){e.$set(e.userinfoForm,"username",r)},expression:"userinfoForm.username"}})],1),t("el-form-item",{attrs:{label:"用户昵称",prop:"nickname"}},[t("el-input",{model:{value:e.userinfoForm.nickname,callback:function(r){e.$set(e.userinfoForm,"nickname",r)},expression:"userinfoForm.nickname"}})],1),t("el-form-item",{attrs:{label:"用户邮箱",prop:"email"}},[t("el-input",{model:{value:e.userinfoForm.email,callback:function(r){e.$set(e.userinfoForm,"email",r)},expression:"userinfoForm.email"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",round:""},on:{click:e.editUserinfoBtn}},[e._v("修改")]),t("el-button",{attrs:{type:"info",round:""}},[e._v("重置")])],1)],1)],1)],1)},s=[],a=t(16198),i=(t(78975),{data:function(){return{userinfoForm:{id:0,nickname:"",email:""},userinfoRules:{nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{1,10}$/,message:"昵称必须是1-10位的非空字符串",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}]}}},created:function(){this.getUserinfoList()},methods:{getUserinfoList:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function r(){var t,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$http.get("/my/userinfo");case 2:if(t=r.sent,n=t.data,0===n.status){r.next=6;break}return r.abrupt("return",e.$message.error("获取信息列表失败！"));case 6:e.userinfoForm=n.data;case 7:case"end":return r.stop()}}),r)})))()},editUserinfoBtn:function(){var e=this;this.$refs.userinfoRef.validate(function(){var r=(0,a.Z)(regeneratorRuntime.mark((function r(t){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return",e.$message.error("请填写用户信息!"));case 2:return r.next=4,e.$http.post("/my/userinfo",e.$qs.stringify(e.userinfoForm));case 4:if(n=r.sent,s=n.data,0===s.status){r.next=8;break}return r.abrupt("return",e.$message.error("修改用户信息失败！"));case 8:e.getUserinfoList(),e.$message.success(s.message);case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}}}),u=i,o=t(1001),m=(0,o.Z)(u,n,s,!1,null,"51facabc",null),l=m.exports}}]);
//# sourceMappingURL=959-legacy.b4257e6e.js.map